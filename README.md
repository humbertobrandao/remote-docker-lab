# Remote Docker Lab

This repository contains two scripts that automate the creation and deletion of isolated Docker-based project environments on a remote machine. The objective is to allow you to run heavy experiments (CPU/RAM intensive workloads, GPU tasks, simulations, long-running code) on a remote server, without consuming resources on your local computer.

## Files

### create_project.sh
Creates a directory on the remote server, generates a Dockerfile, configures a shared folder, and prepares a Docker environment ready to build and run.

### remove_project.sh
Deletes the project directory and removes its associated Docker container, fully cleaning all Docker resources tied to that project.

Both scripts execute from your local machine via SSH.

## Requirements

Local machine:
- Bash
- SSH client

Remote machine:
- SSH access
- Docker installed

## How the Docker Environment Works

Running create_project.sh creates a complete project structure on the remote server, including:
- A new project directory
- A Dockerfile
- A shared folder mount between host and container
- A base operating system defined inside the Dockerfile
- A customizable package installation section

## Shared Folder (Host â†” Container)

By default, the project directory on the remote machine is mounted inside the Docker container. Inside create_project.sh, look for the volume mapping:

```
-v /home/<user>/<project_name>:/workspace
```

You can modify the host folder (left side) or the container folder (right side).

Example modification:

```
-v /home/user/projectX:/workspace
```

to:

```
-v /mnt/data/projectX:/app
```

## Changing the Docker Base Operating System

Inside the Dockerfile generated by create_project.sh, the first line controls the base OS:

```
FROM ubuntu:22.04
```

Replace it with any base image you prefer.

## Installing Additional Packages Inside the Dockerfile

Inside the Dockerfile, locate the installation block:

```
RUN apt-get update && apt-get install -y \
    python3 \
    python3-pip \
    git \
    && apt-get clean
```

Extend or modify this list as needed.

---

# How to Use

## Create a New Remote Project

Syntax:

```
./create_project.sh <remote_user>@<remote_host> <project_name>
```

Example:

```
./create_project.sh user@192.168.1.20 experiment_alpha
```

Then connect and build:

```
ssh user@192.168.1.20
cd experiment_alpha
docker build -t experiment_alpha .
```

Run the container:

```
docker run --rm -it -v /home/user/experiment_alpha:/workspace experiment_alpha
```

## Remove a Remote Project

Syntax:

```
./remove_project.sh <remote_user>@<remote_host> <project_name>
```

Example:

```
./remove_project.sh user@192.168.1.20 experiment_alpha
```

This deletes the project directory and removes the Docker container.

---

# Typical Workflow

```
./create_project.sh user@server projectX
rsync -avz ./local_code/ user@server:projectX/code/
ssh user@server
cd projectX
docker build -t projectX .
docker run --rm -it -v /home/user/projectX:/workspace projectX
./remove_project.sh user@server projectX
```

## Customizations

Inside create_project.sh:

- Change OS: edit the FROM line in the Dockerfile.
- Install packages: edit the apt-get or pip install section.
- Modify shared folder: edit the -v host:container mount.
- Change container name: edit the naming variable.
- Change remote folder path: modify the ssh target path.

